<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="shop_project">
	<select id="adminCtn" resultType="String">
		select count(*) as ctn from admin_member where ad_id=#{ad_id}
	</select>
	
	<insert id="addAdmin">
		insert into admin_member values ('0',#{ad_id},#{ad_pass},#{ad_name},#{ad_email},#{ad_tel},#{ad_dep},#{ad_pos},'N',now())
	</insert>
	
	<select id="adminAll" resultType="adminDTO">
		select * from admin_member order by ad_idx desc
	</select>
	
	<update id="addAdminApprove">
		update admin_member set ad_approve='Y' where ad_idx=#{ad_idx}
	</update>
	
	<update id="delAdminApprove">
		update admin_member set ad_approve='N' where ad_idx=#{ad_idx}
	</update>
	
	<select id="adminSearch" resultType="adminDTO">
		select * from admin_member where ad_id=#{ad_id}
	</select>
	
	<insert id="addSite">
		insert into admin_site values (
		'0',
		#{si_title},#{si_ademail},#{si_pointuse},#{si_joinpoint},
		#{si_userlevel},#{si_coname},#{si_coregno},#{si_ceoname},
		#{si_ceotel},#{si_mosregno},#{si_vatbregno},#{si_copostal},
		#{si_coaddr},#{si_imadminname},#{si_imadminemail},#{si_nbkname},
		#{si_bkaccno},#{si_cardpayuse},#{si_telpayuse},#{si_dcmcpayuse},
		#{si_pointusemin},#{si_pointusemax},#{si_cashrcptuse},#{si_delconame},
		#{si_delprice},#{si_deldateuse},now(),#{si_adminid}
		)
	</insert>
	
	<select id="cateAll" resultType="cateDTO">
		select * from site_cate where ca_adminid=#{ca_adminid} order by ca_class asc;
	</select>
	
	<insert id="addCate">
		insert into site_cate values ('0',#{ca_class},#{ca_code},#{ca_name},#{ca_use},'N',now(),#{ca_adminid})
	</insert>
	
	<delete id="delCate" parameterType="String">
		delete from site_cate where ca_idx in (
		<foreach collection="array" item="data" separator=",">
		#{data}
		</foreach>
		)
	</delete>
	
</mapper>